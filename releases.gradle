ext.versionCode = {
    return 'git rev-list --count HEAD'.execute([], project.rootDir).text.trim().toInteger()
}

ext.versionName = {
    def revList = 'git rev-list --tags --max-count=1'.execute([], project.rootDir).text.trim()
    def versionName = "git describe --tags ${revList.toString()}".execute([], project.rootDir).text.trim()

    return versionName ?: 'initial'
}

ext.apkFileName = {
    return "appcom-pokedex-${versionName()}-${versionCode()}.apk"
}
